!function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=i(1),r=n(a),o=i(2),d=n(o),s=i(5),l=n(s),c=i(19),u=n(c),f=i(7),g=n(f),m=i(3),p=n(m),h=i(20),w=n(h),v=i(11),y=n(v);Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),(0,r.default)(),window.districtmBids=window.districtmBids||[],window.districtmHeader=window.districtmHeader||{};var b=new Date;b.getTime(),window.districtmManualMap=window.districtmManualMap||[],window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],districtmHeader.widget=i(21),districtmHeader.utils=d.default,districtmHeader.bidding=i(6),window.districtmGA=window.districtmGA||[],districtmHeader.google=l.default,districtmHeader.ssp=g.default,districtmHeader.collections=p.default,districtmHeader.fty=i(17),districtmHeader.listener=i(18),districtmHeader.version=i(22),districtmHeader.utils.registerMethod(districtmMethod),districtmHeader.beacon=w.default,districtmHeader.inc=y.default,googletag.cmd.push(function(){if(1===districtmMethod){var e=googletag.defineSlot;googletag.defineSlot=function(){return districtmHeader.utils.defineSlot(arguments[0],arguments[1],arguments[2]),e.apply(this,arguments)},googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size"),districtmHeader.utils.logger("Remove DM targeting")})}if(2===districtmMethod){districtmHeader.utils.logger("inforce listener");var e=googletag.defineSlot;districtmHeader.utils.calculate(window.googletag),districtmHeader.utils.timeLaps(districtmHeaderTimeOut+400,window.googletag),googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size"),districtmHeader.utils.logger("Remove DM targeting")}),googletag.defineSlot=function(){return districtmHeader.utils.defineSlot(arguments[0],arguments[1],arguments[2]),e.apply(this,arguments)},googletag.pubads().disableInitialLoad()}if(3===districtmMethod){var e=googletag.defineSlot,t=googletag.pubads().refresh,i=googletag.display;googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size"),districtmHeader.utils.logger("Remove DM targeting")}),googletag.display=function(){var e=this,t=arguments;setTimeout(function(){i.apply(e,t)},300)},googletag.pubads().refresh=function(){var e=this,i=arguments;setTimeout(function(){t.apply(e,i)},350)},googletag.defineSlot=function(){return districtmHeader.utils.defineSlot(arguments[0],arguments[1],arguments[2]),e.apply(this,arguments)}}});try{districtmHeader.fty.import(districtmExtSSP)}catch(e){}districtmHeader.utils.startShift();var x=!0;districtmHeader.utils.observer.run(),20===window.districtmMethod?districtmHeader.utils.observer.on("googletag",googletag,function(e){try{if("undefined"!=typeof window[e].pubads().getSlots()&&x){districtmHeader.utils.logger("start register"),districtmHeader.utils.calculate(window.googletag),districtmHeader.utils.timeLaps(districtmHeaderTimeOut,window.googletag),window[e].pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_ssp","dm_size"),districtmHeader.utils.logger("Remove DM targeting")});for(var t=window[e].pubads().getSlots(),i=0;i<t.length;i++){for(var n=t[i].getSizes(),a=[],r=0;r<n.length;r++)a.push([n[r].l,n[r].j]);d.default.logger("just about to define slot"),districtmHeader.utils.defineSlot(t[i].G,a,t[i].getSlotId().o)}x=!1}}catch(e){}}):6===window.districtmMethod&&(districtmHeader.predefined=new u.default(window.dmPredefined),window.districtmMethod=2,districtmHeader.predefined.run(),googletag.cmd.push(function(){districtmHeader.utils.calculate(window.googletag),districtmHeader.utils.timeLaps(districtmHeaderTimeOut,window.googletag)})),districtmHeader.beacon.callEndPoint("//rtb.districtm.io/gendmuid?callback=districtmHeader.beacon.callback")},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),r=n(a),o=function(){Object.forEach=function(e,t){for(var i in e)try{t(e[i]),r.default.logger("ssp: "+i+", message: was called for execution")}catch(e){r.default.logger("ssp: "+i+", error: "+e.message)}}};t.default=o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var i=[],n=!0,a=!1,r=void 0;try{for(var o,d=e[Symbol.iterator]();!(n=(o=d.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{!n&&d.return&&d.return()}finally{if(a)throw r}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=i(3),o=n(r),d=(i(4),i(5)),s=n(d),l=i(6),c=(i(18),{});window.districtmStart=0,window.districtmStop=6,c.logger=function(e){try{localStorage.dmConsole&&console.log("Districtm wrapper",e)}catch(e){}},c.observer={events:{},old:[{}],kill:[],on:function(e,t,i){this.events[e]=this.events[e]||[],this.events[e].push(i)},emit:function(e){if(this.events[e])for(var t=0;t<this.events[e].length;t++)this.events[e][t](e)},run:function(){var e=this;e.kill=setInterval(function(){for(var t in e.events)for(var i=0;i<e.events[t].length;i++)e.emit(t)},1),setTimeout(function(){clearInterval(e.kill)},1e4)}},c.defineSlot=function(){this.logger("utils defineSlot");try{if(districtmStart<=districtmStop){var e=[];if(Array.isArray(arguments[1][0]))for(var t=0;t<arguments[1].length;t++)districtmAllowedSizes.indexOf(arguments[1][t][0]+"x"+arguments[1][t][1])!==-1&&e.push(arguments[1][t][0]+"x"+arguments[1][t][1]);else districtmAllowedSizes.indexOf(arguments[1][0]+"x"+arguments[1][1])!==-1&&e.push(arguments[1][0]+"x"+arguments[1][1]);if(e.length>0){districtmManualMap.push({ggle:arguments[2],sizes:e,gglePlacement:arguments[0]});var i=[],n=0;for(var a in districtmManualMap)"undefined"!=typeof districtmEasyMap[n]&&(i.push({id:districtmEasyMap[districtmStart].id,zone:districtmEasyMap[districtmStart].zoneId,ggle:districtmManualMap[a].ggle,sizes:districtmManualMap[a].sizes,dmtagid:districtmEasyMap[districtmStart].dmtagid,gglePlacement:districtmManualMap[a].gglePlacement}),n++);window.districtmManualMap=[],window.dmGetMap=window.dmGetMap||[],window.dmGetMap.push(i),this.keep4refresh=this.keep4refresh||[],this.keep4refresh.push(i),l.fetchBids(i),districtmStart++,3===districtmMethod&&6===districtmStart&&(districtmStart=1)}}}catch(e){this.logger("WARN "+e.message+" | some id might not be declare correctly in DFP | or object overload")}this.logger("defineSlot "+arguments)},c.sizes=["970x250","970x90","728x90","300x250","160x600","300x600","320x50"],c.timer=function(){return(new Date).getTime()},c.generateId=function(e){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=i.charAt(Math.floor(Math.random()*i.length));return t},c.idSync=function(){var e="//cdn.districtm.ca/sync.html",t=document.createElement("iframe");t.style.width="0px",t.style.height="0px",t.style.display="none",t.setAttribute("src",e);try{window.addEventListener("load",function(){document.getElementsByTagName("body")[0].appendChild(t)})}catch(e){window.attachEvent("onload",function(){document.getElementsByTagName("body")[0].appendChild(t)})}},c.loadPromise=function(e,t){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.readyState?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,t())}:i.onload=function(){t()},i.src=e;var n=document.getElementsByTagName("head");n=n.length?n:document.getElementsByTagName("body"),n.length&&(n=n[0],n.insertBefore(i,n.firstChild))},c.loadScript=function(e,t){var i=document.createElement("script");i.type="text/javascript",i.async=!0,t&&"function"==typeof t&&(i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,t())}:i.onload=function(){t()}),i.src=e;var n=document.getElementsByTagName("head");n=n.length?n:document.getElementsByTagName("body"),n.length&&(n=n[0],n.insertBefore(i,n.firstChild))},c.isInArray=function(e,t){return t.indexOf(e)>-1},c.getURLParameter=function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null},c.debugMode=function(){return null},c.removeLastComma=function(e){var t=e.lastIndexOf(","),i=e.substring(0,t);return i},c.getTopWindowUrl=function(){try{return window.top.location.href}catch(e){return window.location.href}},c.addEventListener=function(e,t,i,n){this.collection.push(arguments),this.register[e]?this.register[e].amount<t&&(this.register[e].amount=t,this.register[e].ssp=i,this.register[e].size=n,this.setTargeting(e,t,i,n,arguments[4]||null)):(this.register[e]={},this.register[e].amount=t,this.register[e].ssp=i,this.register[e].size=n,this.setTargeting(e,t,i,n,arguments[4]||null))},c.setTargeting=function(e){try{for(var t=googletag.pubads().getSlots(),i=0;i<t.length;i++)t[i].getSlotElementId()===e.ggle&&(this.logger(e),this.logger("cpm value is "+t[i].getTargeting("dm_cpm")+" ggle slot:"+e.ggle),parseFloat(t[i].getTargeting("dm_cpm")[0])<parseFloat(e.winBid)&&(this.logger("switch value targeting"),t[i].setTargeting("dm_cpm",e.winBid).setTargeting("dm_adslot",e.auctionId).setTargeting("dm_size",e.size),this.logger("fetching bids "+e.winBid+" "+e.ssp+" in "+e.load+"ms slot name:"+e.ggle)),0===t[i].getTargeting("dm_cpm").length&&(this.logger("inside targeting bigger"),t[i].setTargeting("dm_cpm",e.winBid).setTargeting("dm_adslot",e.auctionId).setTargeting("dm_size",e.size),this.logger("fetching bids "+e.winBid+" "+e.ssp+" in "+e.load+"ms slot name:"+e.ggle)))}catch(t){var n=this;setTimeout(function(){n.setTargeting(e)},10)}},c.collection=[],c.register={},c.move=function(e,t,i){for(;t<0;)t+=e.length;for(;i<0;)i+=e.length;if(i>=e.length)for(var n=i-e.length;n--+1;)e.push(void 0);return e.splice(i,0,e.splice(t,1)[0]),e},c.makeShift=function(){this.logger("shift start");for(var e=0;e<window.googletag.cmd.length;e++)window.googletag.cmd[e].toString().indexOf("districtmHeader")!==-1&&0!==e&&(this.logger("Shift CMD"),window.googletag.cmd=this.move(window.googletag.cmd,e,0))},c.startShift=function(){var e=this,t=setInterval(function(){try{e.makeShift()}catch(e){throw clearInterval(t),e.message}},1);setTimeout(function(){clearInterval(t)},1500)},c.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.style.display="none",e},c.getDomain=function(){return document.domain},c.loadTime=function(e){o.default.update(e.auctionId,{load:e.end-e.start})},c.theShowMostGoOn=function(e,t,i){if(o.default.selectById(e)){var n=Object.create(o.default.selectById(e));if(console.log("win",n),s.default.sendToGoogle(n,window.districtmGA),this.districtmImpression(o.default.selectById(e),i),n.html?t.write(n.html):t.write("<IFRAME SRC='"+n.adUrl+"' FRAMEBORDER='0' SCROLLING='no' MARGINHEIGHT='0' MARGINWIDTH='0' TOPMARGIN='0' LEFTMARGIN='0' ALLOWTRANSPARENCY='true' WIDTH='"+n.size.split("x")[0]+"' HEIGHT='"+n.size.split("x")[1]+"'></IFRAME>"),""!==n.trackingUrl&&"undefined"!=typeof n.trackingUrl){var a=new Image;a.src=n.trackingUrl}}},c.timeLaps=function(e,t){this.listen(t);var i=this;this.timeout=setTimeout(function(){i.process(),i.logger("end by normal process !!")},e)},c.timeEnd=function(){clearTimeout(this.timeout),this.process()},c.process=function(){googletag.pubads().refresh()},c.listen=function(e){},c.dmca_b64={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-=",lookup:null,ie:/MSIE /.test(navigator.userAgent),ieo:/MSIE [67]/.test(navigator.userAgent),toUtf8:function(e){var t,i=-1,n=e.length,a=[];if(/^[\x00-\x7f]*$/.test(e))for(;++i<n;)a.push(e.charCodeAt(i));else for(;++i<n;)t=e.charCodeAt(i),t<128?a.push(t):t<2048?a.push(t>>6|192,63&t|128):a.push(t>>12|224,t>>6&63|128,63&t|128);return a},encode:function(e){var t,i,n,a=this.toUtf8(e),r=-1,o=a.length,d=[,,,];if(this.ie){for(var s=[];++r<o;)t=a[r],i=a[++r],d[0]=t>>2,d[1]=(3&t)<<4|i>>4,isNaN(i)?d[2]=d[3]=64:(n=a[++r],d[2]=(15&i)<<2|n>>6,d[3]=isNaN(n)?64:63&n),s.push(this.alphabet.charAt(d[0]),this.alphabet.charAt(d[1]),this.alphabet.charAt(d[2]),this.alphabet.charAt(d[3]));return s.join("")}for(var s="";++r<o;)t=a[r],i=a[++r],d[0]=t>>2,d[1]=(3&t)<<4|i>>4,isNaN(i)?d[2]=d[3]=64:(n=a[++r],d[2]=(15&i)<<2|n>>6,d[3]=isNaN(n)?64:63&n),s+=this.alphabet[d[0]]+this.alphabet[d[1]]+this.alphabet[d[2]]+this.alphabet[d[3]];return s}},c.districtmImpression=function(e,t){var i=new Object;i.id=e.auctionId,i.domain=window.districtmDomain?window.districtmDomain:t,i.ssp=e.ssp,i.winBid=e.winBid/districtmRatio/districtmCurrencyRate,i.tieBreaker=districtmTieBreaker||0,i.adSize=e.size,i.zone=e.zone,i.slotName=e.callBackId,i.ext=e.ext||!1;try{localStorage.dmio_dmuid&&(i.dmuid=localStorage.dmio_dmuid)}catch(e){}var n=new Image;i.ext||(n.src="//adx.districtm.ca/hi/impression/"+this.dmca_b64.encode(JSON.stringify(i)));var a={auctionId:e.auctionId,domain:i.domain,ssp:e.ssp,winBid:parseFloat(i.winBid),adsize:i.adSize,zone:parseInt(i.zone),tiebreaker:i.tieBreaker},r=new Image;r.src="//dmx.districtm.ca/ib/dmw/"+this.dmca_b64.encode(JSON.stringify(a))},c.end=0,c.count=[],c.total=0,c.calculate=function(e){for(var t=e.pubads().getSlots(),i=0;i<t.length;i++)for(var n=t[i].getSizes(),a=0;a<n.length;a++)if(window.districtmAllowedSizes.indexOf(n[a].l+"x"+n[a].j)!==-1){this.end++;break}this.total=window.districtmSsp.length*this.end},c.grCount=function(e){this.count.push(e);var t=this;this.count.length===this.total&&2===this.method&&setTimeout(function(){t.timeEnd(),t.logger("End by ads")},1)},c.removeTargeting=function(e){},c.method=1,c.registerMethod=function(e){this.method=e},c.checkEach=function(e,t,i){if(Array.isArray(t))for(var n=0;n<e.length;n++)for(var a=0;a<t.length;a++)i(e[n],t[a]);else for(var n=0;n<e.length;n++)i(e[n],t)},c.clone=function(e,t){var i;if(Array.isArray(t)){var n=a(t,1);i=n[0]}else i=t;this.logger(190,i);for(var r in i)e[r]=i[r];return e},c.getTargeting=function(e){return{welcome:"steve"}},c.lazy=function(e,t){var i;try{i=googletag.defineSlot(e[0],e[1],e[2]).addService(googletag.pubads())}catch(t){googletag.cmd.push(function(){i=googletag.defineSlot(e[0],e[1],e[2]).addService(googletag.pubads())})}this.defineSlot("",e[1],e[2]),setTimeout(function(){googletag.display(e[2]),t(i)},300)},c.refreshBanner=function(){districtmStart=0;var e=googletag.pubads().getSlots(),t=[];if(0===arguments.length){for(var i=0;i<e.length;i++){for(var n=e[i].getSizes(),a=[],r=0;r<n.length;r++)a.push([n[r].l,n[r].j]);c.logger("just about to define slot"),this.defineSlot(e[i].G,a,e[i].getSlotElementId())}setTimeout(function(){googletag.pubads().refresh()},300)}else if(arguments.length>1){for(var o=arguments[0],i=0;i<o.length;i++)for(var d=0;d<e.length;d++)if(e[d].getSlotElementId()===o[i]){for(var n=e[d].getSizes(),a=[],r=0;r<n.length;r++)a.push([n[r].l,n[r].j]);this.defineSlot("",a,e[d].getSlotElementId()),t.push(e[d])}var s=arguments[1];setTimeout(function(){s(t)},300)}},c.interval=function(e,t,i){function n(e){e.setTargeting("dm_refresh",window.dm_Interval)}window.dm_Interval=window.dm_Interval||0;var a=googletag.pubads().getSlots();if(districtmStart=1,e||t||i){if(e&&t&&!i){var r=this;setTimeout(function(){var e=googletag.pubads().getSlots();districtmStart=1;for(var t=0;t<e.length;t++){for(var i=e[t].getSizes(),a=[],r=0;r<i.length;r++)a.push([i[r].l,i[r].j]);e[t].clearTargeting("dm_cpm","dm_adslot","dm_size","dm_ssp","dm_refresh"),n(e[t]),districtmHeader.utils.defineSlot(e[t].G,a,e[t].getSlotId().o)}},t),setTimeout(function(){googletag.pubads().refresh(),r.interval(e,t)},t+400)}else if(e&&t&&i){var r=this;setTimeout(function(){for(var e=googletag.pubads().getSlots(),t=0;t<e.length;t++){n(e[t]),e[t].clearTargeting("dm_cpm","dm_adslot","dm_size","dm_ssp","dm_refresh");for(var a=0;a<i.length;a++){for(var r=e[t].getSizes(),o=[],d=0;d<r.length;d++)o.push([r[d].l,r[d].j]);i[a]===e[t].getSlotId().o&&districtmHeader.utils.defineSlot(e[t].G,o,e[t].getSlotId().o)}}},t),setTimeout(function(){r.interval(e,t,i);for(var n=googletag.pubads().getSlots(),a=0;a<n.length;a++)for(var o=0;o<i.length;o++)i[o]===n[a].getSlotId().o&&googletag.pubads().refresh([n[a]])},t+400)}else if(!e&&!t&&i)for(var a=googletag.pubads().getSlots(),o=0;o<a.length;o++){n(a[o]),a[o].clearTargeting("dm_cpm","dm_adslot","dm_size","dm_ssp","dm_refresh");for(var d=0;d<i.length;d++){for(var s=a[o].getSizes(),l=[],c=0;c<s.length;c++)l.push([s[c].l,s[c].j]);i[d]===a[o].getSlotId().o&&districtmHeader.utils.defineSlot(a[o].G,l,a[o].getSlotId().o)}}}else for(var o=0;o<a.length;o++){for(var s=a[o].getSizes(),l=[],c=0;c<s.length;c++)l.push([s[c].l,s[c].j]);a[o].clearTargeting("dm_cpm","dm_adslot","dm_size","dm_ssp","dm_refresh"),n(a[o]),districtmHeader.utils.defineSlot(a[o].G,l,a[o].getSlotId().o)}window.dm_Interval+=1},c.ajax=function(e,t,i){if(window.XMLHttpRequest)var n=new XMLHttpRequest;else if(window.ActiveXObject("Microsoft.XMLHTTP"))var n=new ActiveXObject("Microsoft.XMLHTTP");n.withCredentials=!0,n.onreadystatechange=function(){if(200===n.status)try{i(JSON.parse(n.responseText),t)}catch(e){}},n.open("GET",e,!0),n.send(null)},t.default=c},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),r=n(a),o={col:{},win:{},history:[],register:function(e,t){r.default.logger(e," it's getting register"),this.col[e]?r.default.logger(e," already register"):this.col[e]=t},update:function(e,t){if(this.col[e])for(var i in t)this.col[e][i]=t[i];else r.default.logger(e," can't be updated")},select:function(e){return r.default.logger(e),this.col[e.auctionId]},selectById:function(e){return this.col[e]},findByGle:function(e){for(var t in this.col)this.col[t].ggle===e&&parseFloat(this.col[t].winBid)>0&&r.default.setTargeting(this.col[t])},storeHistory:function(){this.history.push(Object.create(this.col)),this.col={}},selectField:function(e,t){return this.col[e][t]||"error"},selectWin:function(){var e={};for(var t in this.col)return""!==this.col[t].winBid&&(e[t]=this.col[t]),e}};t.default=o},function(e,t){"use strict";function i(e){try{var t=e;return r[t]?r[t]:3}catch(e){return 3}}function n(e){return e}function a(){return 1===arguments.length?!!arguments[0].districtmDomain:"undefined"!=typeof window&&"undefined"!=typeof window.districtmDomain}Object.defineProperty(t,"__esModule",{value:!0}),t.clean=i,t.removeExtention=n,t.replaceDomain=a;var r={};t.default=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(2),d=(n(o),function(){function e(){a(this,e)}return r(e,[{key:"sendToGoogle",value:function(e,t){for(var i=0;i<t.length;i++){var n={divId:e.ggle,winBid:e.winBid,size:e.size,gglePlacement:e.gglePlacement,rRev:(e.winBid/1e3).toFixed(5)};t[i](n)}}}]),e}());t.default=new d},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=i(2),r=n(a),o=i(7),d=n(o);i(17),e.exports={list:[],fetchBids:function(e){Object.forEach(d.default,function(t){t.execute(e)})},listAddSsp:function(){},do:function(e,t){t(e)},mapping:function(e){var t=this,i=0,n={};for(var a in e){if("undefined"!=typeof window.districtmEasyMap[i]){var o=r.default.intersect(e[a].sizes,districtmAllowedSizes);n[i]={id:districtmEasyMap[i].id,zone:districtmEasyMap[i].zoneId,ggle:e[a].id,sizes:o}}else r.default.logger("districtm warning: no district m placement for "+e[a].id);i++}t.fetchBids(n)}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(8),r=n(a),o=i(9),d=n(o),s=i(10),l=n(s),c=i(12),u=n(c),f=i(13),g=n(f),m={districtm:i(16),aol:r.default,test:d.default,indexx:l.default,sovrn:u.default,pubmatic:g.default,pulsepoint:i(14),appnexus:i(15)};t.default=m},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var i=[],n=!0,a=!1,r=void 0;try{for(var o,d=e[Symbol.iterator]();!(n=(o=d.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{!n&&d.return&&d.return()}finally{if(a)throw r}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d=i(2),s=n(d),l=i(3),c=n(l),u={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},f={"300x250":4364787,"160x600":4371969,"300x600":4371967,"728x90":4371962,"970x90":4371966,"970x250":4371965,"300x50":4371964,"320x50":4371963},g=10266.1,m=function(){function e(){a(this,e)}return o(e,[{key:"build",value:function(e){var t=e.geo,i=e.networkId,n=e.placementId,a=e.alias,r=e.cmd,o=e.bidfloor,d=e.v,l=e.auctionId,f=e.rndc,g=e.cfp,m=e.sizeId,p="//"+u[t]+"/pubapi/3.0/"+i+"/"+n+"/"+m+"/0/;alias="+a+";cmd="+r+";cors=yes;bidfloor="+o+";v="+d+";cfp="+g+";rndc="+f;s.default.ajax(p,l,function(e,t){try{if(e.seatbid[0].bid[0].price>0){var i=e.seatbid[0].bid[0],n={},a=c.default.selectById(t),r=c.default.selectById(t),o=r.revshare;a.ext===!0?n.winBid=parseFloat(i.price*o).toFixed(2):n.winBid=parseFloat(i.price*districtmRatio).toFixed(2),n.html=i.adm,n.width=i.w,n.height=i.h,n.size=i.w+"x"+i.h,n.end=s.default.timer(),n.auctionId=t,c.default.update(t,n),s.default.loadTime(c.default.select(n)),n.load=c.default.selectField(t,"load"),s.default.setTargeting(c.default.selectById(t))}}catch(e){s.default.logger("AOL: "+e.message)}})}},{key:"execute",value:function(e){var t=this;if(s.default.isInArray("aol",districtmSsp)){var i=r(e,1),n=i[0];n.sizes.forEach(function(i){var n={};n=s.default.clone(n,e),n.networkId=g,n.placementId=f[i],n.cmd="bid",n.alias="",n.bidfloor=0,n.v="2",n.start=s.default.timer(),n.geo="us",n.ssp="aol",n.auctionId=s.default.generateId(30),n.cfp=1,n.rndc=Math.floor(1e8*Math.random(1e7)),n.sizeId=e.sizeId||0,c.default.register(n.auctionId,n),t.build(n)})}try{window.districtmExtSSP.aol&&!function(){var i=window.districtmExtSSP.aol,n=i.defaults,a=i.specific,o={},d=r(e,1),l=d[0],u=n[0].revshare,f=n.filter(function(e){return l.sizes.find(function(t){return t===e.size})}),g=a.filter(function(e){return l.ggle===e.slotId&&l.sizes.find(function(t){return t===e.size})}),m=a.filter(function(e){return l.gglePlacement.indexOf(e.slotId)!==-1&&l.sizes.find(function(){return e.size})}),p=function(e,t,i){var n=r(e,1),a=n[0],o=r(t,1),d=o[0],s=r(i,1),l=s[0];return a?[a]:d?[d]:[l]}(g,m,f),h=r(p,1),w=h[0];s.default.logger(909,l),s.default.logger(910,w),s.default.logger(911,g),s.default.logger(912,f),s.default.logger(913,m),o=s.default.clone({ext:!0},w),o.cmd="bid",o.alias=w.alias||"",o.bidfloor=w.bidfloor||"",o.v="2",o.geo="us",o.ssp="aol",o.revshare=u,o.start=s.default.timer(),o.auctionId=s.default.generateId(30),o.ggle=l.ggle,o.cfp=1,o.rndc=Math.floor(1e8*Math.random(1e7)),o.sizeId=w.sizeId||0,c.default.register(o.auctionId,o),t.build(o)}()}catch(e){s.default.logger("AOL: not declare in open wrapper definition | "+e.message)}}}]),e}();t.default=new m},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),r=n(a),o=i(3),d=n(o),s={run:function(e){try{var t=[{ssp:"test",winBid:"2.40",size:"300x250",w:"300",h:"250",html:"https://placeholdit.imgix.net/~text?txtsize=33&txt=300%C3%97250&w=300&h=250"},{ssp:"test",winBid:"5.00",size:"300x250",w:"300",h:"250",html:"https://placeholdit.imgix.net/~text?txtsize=33&txt=300%C3%97250&w=300&h=250"},{ssp:"test",winBid:"3.12",size:"300x250",w:"300",h:"250",html:"https://placeholdit.imgix.net/~text?txtsize=33&txt=300%C3%97250&w=300&h=250"},{ssp:"test",winBid:"0.91",size:"300x250",w:"300",h:"250",html:"https://placeholdit.imgix.net/~text?txtsize=33&txt=300%C3%97250&w=300&h=250"},{ssp:"test",winBid:"3.90",size:"300x250",w:"300",h:"250",html:"https://placeholdit.imgix.net/~text?txtsize=33&txt=300%C3%97250&w=300&h=250"}],i=t.reduce(function(e,t){return parseFloat(e.winBid).toFixed(2)<parseFloat(t.winBid).toFixed(2)?t:e},{ssp:"test",winBid:"0",size:"0x0"});i.auctionId=r.default.generateId(30),i.ggle=e[0].ggle,d.default.register(i.auctionId,i),console.log(i),setTimeout(function(){r.default.setTargeting(d.default.selectById(i.auctionId))},100)}catch(e){r.default.logger("Something might not be supported by your browser or "+e.message)}},execute:function(e){if(r.default.isInArray("test",districtmSsp)){var t=Object.create(e);t.auctionId=r.default.generateId(30),t.ssp="test",t.start=r.default.timer(),d.default.register(t.auctionId,t),this.run(e)}}};t.default=s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(2),d=n(o),s=i(11),l=n(s),c=i(3),u=n(c);"https:"===window.location.protocol?"//as-sec.casalemedia.com/headertag?v=":"//as.casalemedia.com/headertag?v=",window.cygnus_index_parse_res=function(e){};var f=function(){function e(){a(this,e),this.version=7,this.topFrame=1,this.sitePage=window.location.href,this.escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,this.meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},this.timeoutDelay=400}return r(e,[{key:"escapeCharacter",value:function(e){var t=this.meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}},{key:"quote",value:function(e){return this.escapable.lastIndex=0,this.escapable.test(e)?e.replace(this.escapable,this.escapeCharacter):e}},{key:"serialize",value:function(e){var t='{"id":'+e.requestID+',"site":{"page":"'+this.quote(this.sitePage)+'","ref":"'+this.quote(document.referrer)+'"},"imp":[';return e.sizes.forEach(function(i){t+='{"id":"'+e.id+'", "banner":{"w":'+i.split("x")[0]+',"h":'+i.split("x")[1]+',"topframe":1},"bidfloor":0.01,"bidfloorcur":"USD","ext": {"sid":"'+e.id+'","siteID":'+e.placementId+"}"}),t+="}]}"}},{key:"generateId",value:function(e){for(var t="",i="0123456789",n=0;n<e;n++)t+=i.charAt(Math.floor(Math.random()*i.length));return t}},{key:"buildUrl",value:function(e){var t=encodeURIComponent(this.serialize(e)),i="https:"===window.location.protocol?"https://as-sec.casalemedia.com":"http://as.casalemedia.com";return i+="/cygnus?v="+this.version+"&pid=dm&t=500&fn=window.districtmHeader.ssp.indexx.callback&s="+e.placementId+"&r="+t}},{key:"execute",value:function(e){if(window.districtmExtSSP.index){var t=[],i=[],n=d.default.clone({ext:!0,auctionId:this.generateId(9)},e);n.requestID=n.auctionId,n.ssp="index";var a=window.districtmExtSSP.index,r=a.defaults,o=a.specific;o.length>0&&(t=o.filter(function(e){return e.slotId===n.ggle})),i=0===t.length?d.default.clone(n,r[l.default.indexx]):d.default.clone(n,t),i.id=l.default.indexx+1,i.width=i.sizes[0].split("x")[0],i.height=i.sizes[0].split("x")[1],u.default.register(n.requestID,n),d.default.loadScript(this.buildUrl(i)),l.default.indexx++,r.length===l.default.indexx&&(l.default.indexx=0)}}},{key:"callback",value:function(e){if(e.seatbid){var t={},i=u.default.selectById(e.id);t.winBid=parseFloat(parseInt(e.seatbid[0].bid[0].ext.pricelevel.replace("_",""))/100*districtmRatio*districtmCurrencyRate).toFixed(2),t.html=e.seatbid[0].bid[0].adm,t.trackingUrl="",t.callBackId=e.id,t.auctionId=e.id,t.adSlot=i.ggle,t.ggle=i.ggle,t.zone=i.zone,t.size=i.width+"x"+i.height,t.ssp=i.ssp,t.end=d.default.timer(),u.default.update(t.callBackId,t),d.default.loadTime(u.default.select(t)),t.load=u.default.selectField(t.auctionId,"load"),d.default.logger(t),d.default.setTargeting(u.default.selectById(t.auctionId))}}}]),e}();t.default=new f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={appnexus:0,appnexusExt:0,indexx:0,sovrn:0,return2Zero:function(e){this[e]=0}};t.default=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var i=[],n=!0,a=!1,r=void 0;try{for(var o,d=e[Symbol.iterator]();!(n=(o=d.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{!n&&d.return&&d.return()}finally{if(a)throw r}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d=i(2),s=n(d),l=i(3),c=n(l),u=i(11),f=n(u),g=function(){function e(){a(this,e),this.sovrnPlacements={}}return o(e,[{key:"getBid",value:function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=e;var i=document.getElementsByTagName("head");i=i.length?i:document.getElementsByTagName("body"),i.length&&(i=i[0],i.insertBefore(t,i.firstChild))}},{key:"qryStringCall",value:function(e){try{for(var t=0;t<window.districtmDyn.sovrn.length;t++)this.sovrnPlacements[window.districtmDyn.sovrn[t].size]=window.districtmDyn.sovrn[t].plc}catch(e){}var i=e[0].ext?1:0;for(var n in this.sovrnPlacements)i++;var a={};0===i?(a["300x250"]="334742",a["728x90"]="356150",a["160x600"]="356151",a["300x600"]="356152",a["320x50"]="356153",a["970x250"]="356155",a["970x90"]="356156"):e[0].sizes.forEach(function(t){a[t]=e[0].placementId});var r="//ap.lijit.com/rtb/bid?callback=districtmHeader.ssp.sovrn.handleCallback&br=",o=new Object;o.site=new Object,o.imp=[],o.id=0,o.site.domain=window.location.host,o.site.page=window.location.pathname+location.search+location.hash;for(var d=0;d<e.length;d++)e[d].sizes.forEach(function(t){var i=new Object;i.banner=new Object,i.id=e[d].auctionId,i.banner.w=t.split("x")[0],i.banner.h=t.split("x")[1],i.tagid=a[t],i.bidfloor=1,o.imp.push(i)});var s=JSON.stringify(o);return r+=encodeURIComponent(s)}},{key:"handleCallback",value:function(e){var t=void 0;try{t=e.seatbid[0].bid}catch(e){t=[]}t.forEach(function(e){var t=c.default.selectById(e.impid);t.winBid=parseFloat(e.price*districtmRatio*districtmCurrencyRate).toFixed(2),t.width=e.w,t.height=e.h,t.end=s.default.timer(),t.size=e.w+"x"+e.h,
t.html=unescape(e.adm),t.trackingUrl=e.nurl,c.default.update(t.auctionId,t),s.default.loadTime(c.default.select(t)),s.default.setTargeting(c.default.selectById(t.auctionId))})}},{key:"execute",value:function(e){var t=this,i=this;if(s.default.isInArray("sovrn",districtmSsp)){var n=Object.create(e[0]);n.auctionId=s.default.generateId(30),n.start=s.default.timer(),n.ssp="sovrn",c.default.register(n.auctionId,n),this.getBid(i.qryStringCall([n]))}var a=void 0;try{window.districtmExtSSP.sovrn&&!function(){var i=window.districtmExtSSP.sovrn,n=i.defaults,o=i.specific,d=s.default.clone({},e),l=n[0].revshare,u=o.filter(function(e){return e.slotId===d.ggle});if(u.length>0){var g=r(u,1);a=g[0]}else a=n[f.default.sovrn];var m=s.default.clone({auctionId:s.default.generateId(30),ext:!0,ssp:"sovrnExt",start:s.default.timer(),revshare:l},a);m.sizes="any"===m.size?d.sizes:[m.size],m.ggle=d.ggle,c.default.register(m.auctionId,m),f.default.sovrn++,n.length===f.default.sovrn&&(f.default.sovrn=0),t.getBid(t.qryStringCall([m]))}()}catch(e){s.default.logger("External ssps error from sovrn | "+e.message)}}}]),e}();t.default=new g},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(2),d=n(o),s=i(3),l=n(s),c=function(){function e(){a(this,e)}return r(e,[{key:"createPubmaticRequestContent",value:function(e){console.log(e);var t=d.default.getDomain(),i='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><base target="_top" /><script>inDapIF=true;</script></head>';i+="<body>",i+="<script>",i+="var progKeyValueMap = {};\n",i+="var bidDetailsMap = {};\n",i+="window.pm_pub_id  = "+window.districtmPubmaticPubId+';\nwindow.kadpageurl  = "'+t+'";\nwindow.pm_optimize_adslots = [];';for(var n=[],a=0;a<e.length;a++){var r=e[a].sizes;for(var o in r){var s=e[a].zone-399;if(s>=6){console.log("new count");var c=d.default.clone({},e[a]);c.auctionId=d.default.generateId(30),c.sizes=r[o],c.start=d.default.timer();var u="hi-fl"+s+"-"+r[o]+"@"+r[o];c.adSlot=u,c.ssp="pubmatic",console.log(33,c),l.default.register(c.auctionId,c),i+="pm_optimize_adslots.push('"+u+"');",n[u]=e[a].ggle}window.districtmPubmaticCallback=n,i+="</script>",i+='<script src="//ads.pubmatic.com/AdServer/js/gshowad.js"></script>',i+="<script>",i+="window.parent.districtmHeader.ssp.pubmatic.handlePubmaticCallback({progKeyValueMap: progKeyValueMap,bidDetailsMap: bidDetailsMap, map:"+JSON.stringify(c)+"});\n",i+="window.parent.PubMaticGrouped=PubMaticGrouped;\n",i+="window.parent.progKeyValueMap=progKeyValueMap;\n",i+="window.parent.bidDetailsMap=bidDetailsMap;\n",i+="</script>",i+="</body></html>"}}return i}},{key:"getPubmaticBids",value:function(e){var t=d.default.createInvisibleIframe(),i=document.getElementsByTagName("head")[0];i.insertBefore(t,i.firstChild);var n=t.contentWindow.document;n.write(this.createPubmaticRequestContent(e)),n.close()}},{key:"handlePubmaticCallback",value:function(e){d.default.logger({44:e});for(var t in e.bidDetailsMap){var i={};i.winBid=parseFloat(.84*e.bidDetailsMap[t].ecpm*districtmRatio*districtmCurrencyRate).toFixed(2),i.adUrl="",i.adSlot=t,i.auctionId=e.map.auctionId,i.trackingUrl=unescape(e.bidDetailsMap[t].tracking_url),i.html=unescape(e.bidDetailsMap[t].creative_tag),i.adSize=e.bidDetailsMap[t].width+"x"+e.bidDetailsMap[t].height,i.callBackId=window.districtmPubmaticCallback[i.adSlot],i.zone=e.map.zone,i.id=e.map.ggle,i.ssp="pubmatic",i.size=i.adSize,i.end=d.default.timer(),d.default.logger(i),d.default.loadTime(l.default.select(i)),d.default.logger(i),parseFloat(i.winBid)>0&&(l.default.update(i.auctionId,i),d.default.setTargeting(l.default.selectById(i.auctionId)))}}},{key:"execute",value:function(e){if(d.default.isInArray("pm2",districtmSsp)){d.default.logger("call pubmatic");var t=d.default.clone({ssp:"pubmatic"},e);this.getPubmaticBids([t])}}},{key:"do",value:function(e,t){t(e)}}]),e}();t.default=new c},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=i(2),r=n(a),o=i(3),d=n(o);e.exports={bidResponseAvailable:function(e,t){if(t){var i={};i.winBid=parseFloat(t.bidCpm*districtmRatio*districtmCurrencyRate).toFixed(2),i.adUrl="",i.trackingUrl="",i.html=t.html,i.auctionId=e.auctionId,i.callBackId=e.ggle,i.adSlot=e.ggle+"-pulsepoint-"+e.size,i.size=e.size,i.ssp="pulsepoint",i.zone=e.zone,i.end=r.default.timer(),d.default.update(i.auctionId,i),r.default.loadTime(d.default.select(i)),i.winBid>0&&window.districtmBids.push(i),r.default.logger(i),r.default.setTargeting(d.default.selectById(i.auctionId))}},bidResponseCallback:function(e){var t=this;return function(i){t.bidResponseAvailable(e,i)}},bid:function(e){var t=this,i=t.bidResponseCallback(e),n=new window.pp.Ad({cf:e.size,cp:557776,ct:e.tag,cn:1,ca:window.pp.requestActions.BID,cu:"//tag.contextweb.com/bid",callback:i});n.display()},getPulsepointBid:function(e){var t=this;"undefined"==typeof window.pp?r.default.loadScript("//tag.contextweb.com/getjs.static.js",function(){t.bid(e)}):t.bid(e)},execute:function(e){if(r.default.isInArray("pp",districtmSsp)){var t=this,e=Object.create(e[0]),i=[];i["728x90"]=208357,i["300x250"]=208356,i["160x600"]=208355,i["300x600"]=226298,i["320x50"]=226299;var n=e.sizes;for(var a in n){var o={};o.ggle=e.ggle,o.size=n[a],o.tag=i[o.size],o.zone=e.zone,o.auctionId=r.default.generateId(30),o.start=r.default.timer(),d.default.register(o.auctionId,o),t.getPulsepointBid(o)}}},do:function(e,t){t(e)}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=i(2),r=n(a),o=i(3),d=n(o),s=i(11),l=n(s);Object.duplicate=function(e){};var c={jptCall:function(e){var t="",i=e.sizes[0];if(e.sizes.length>1){t+="promo_sizes=";for(var n=1;n<e.sizes.length;n++)t+=e.sizes[n]+",";t=r.default.removeLastComma(t),t+="&"}var a="http"+("https:"===document.location.protocol?"s://secure.adnxs.com/jpt?":"://ib.adnxs.com/jpt?");return a+="callback=districtmHeader.ssp.appnexus.handleAppNexusCallback&",a+="callback_uid="+e.auctionId+"~"+e.zone+"~"+e.ggle+"&",a+="psa=0&",a+="zone="+e.zone+"&",a+="id="+e.id+"&",a+="member_id="+e.memberId+"&",a+="size="+i+"&",a+=t,a+="referrer="+r.default.getTopWindowUrl()},getAppNexusBid:function(e,t){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=e;var n=document.getElementsByTagName("head");n=n.length?n:document.getElementsByTagName("body"),d.default.update(t.auctionId,{start:r.default.timer()}),n.length&&(n=n[0],n.insertBefore(i,n.firstChild))},handleAppNexusCallback:function(e){if(e.result&&e.result.cpm&&0!==e.result.cpm){var t,i=e.callback_uid;if(e.result&&e.result.cpm){t=parseInt(e.result.cpm,10),t/=1e4;var n=(e.result.ad,e.result.creative_id,{});n.winBid=parseFloat(t*districtmRatio*districtmCurrencyRate).toFixed(2),n.adUrl=e.result.ad,n.trackingUrl="",n.callBackId=i.split("~")[0],n.auctionId=i.split("~")[0],n.adSlot=i.split("~")[2],n.ggle=i.split("~")[2],n.zone=i.split("~")[1],n.size=e.result.width+"x"+e.result.height,n.ssp="appnexus",n.end=r.default.timer(),d.default.update(n.callBackId,n),r.default.loadTime(d.default.select(n)),n.load=d.default.selectField(n.auctionId,"load"),window.districtmBids.push(n);try{for(var a=0;a<r.default.keep4refresh.length;a++)r.default.keep4refresh[a][0].ggle===n.adSlot&&(r.default.keep4refresh[a][0].winBid=n.winBid)}catch(e){}r.default.logger(n),r.default.setTargeting(d.default.selectById(n.auctionId))}}},execute:function(e){try{var t=r.default.clone({},e);if(r.default.isInArray("an",districtmSsp)&&(t.auctionId=r.default.generateId(30),t.memberId=window.districtmAppnexusMemberId,d.default.register(t.auctionId,t),this.getAppNexusBid(this.jptCall(t),t)),window.districtmExtSSP.appnexus){var i=r.default.clone({ext:!0},e),n=window.districtmExtSSP.appnexus,a=n.defaults,o=n.specific;if(0===o.length)i=r.default.clone(i,[a[l.default.appnexusExt]]),l.default.appnexusExt++;else{var s=o.filter(function(e){return i.ggle===e.slotId});s.length>0?i=r.default.clone(i,s):(i=r.default.clone(i,[a[l.default.appnexusExt]]),l.default.appnexusExt++)}a.length===l.default.appnexusExt&&(l.default.appnexusExt=0),i.id=i.placementId,i.auctionId=r.default.generateId(30),r.default.logger(140,i),d.default.register(i.auctionId,i),this.getAppNexusBid(this.jptCall(i),i)}}catch(e){console.log("error line 107-127 | "+e.message)}window.inc_adnxs++}};e.exports=c},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=i(2),r=(n(a),i(3)),o=n(r);i(4);e.exports={qryStringCall:function(e){var t=e.sizes,i=t[0],n="//rtb.districtm.io/bid?";n+="callback_function=districtmHeader.ssp.districtm.handleDistrictmCallback&floor=2.05&";try{var a="";"undefined"!=typeof localStorage.dmio_dmuid&&(a=localStorage.dmio_dmuid,n+="dmuid="+a+"&")}catch(e){}return n+="impid="+e.impid+"&reqid="+e.auctionId+"&",n+="id="+e.dmtagid+"&",n+="size="+i},getBid:function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=e;var i=document.getElementsByTagName("head");i=i.length?i:document.getElementsByTagName("body"),i.length&&(i=i[0],i.insertBefore(t,i.firstChild))},handleDistrictmCallback:function(e){if(null!==e.result.cpm&&0<parseFloat(e.result.cpm).toFixed(2)){var t={};t.winBid=parseFloat(e.result.cpm*districtmRatio*districtmCurrencyRate).toFixed(2),t.adUrl="",t.trackingUrl=e.result.dm_tracking_uri,t.auctionId=e.result.reqid||e.result.callback_id,t.html=e.result.html,t.html+="<img src='"+t.trackingUrl+"' width='1' height='1' style='display:none;'>",t.callBackId=e.result.reqid||e.result.callback_id,t.adSlot=e.result.id,t.adSize=e.result.size,t.size=e.result.size,t.ssp="dmx",t.end=a.default.timer(),o.default.update(t.auctionId,t),a.default.loadTime(o.default.select(t)),t.load=o.default.selectField(t.auctionId,"load"),a.default.logger(t),a.default.setTargeting(o.default.selectById(t.auctionId))}},execute:function(e){function t(e,t){for(var i in t)e[i]=t[i];return e}var i=this;if(a.default.isInArray("dmx",districtmSsp))for(var n in e){var r=t({},e[n]);r.start=a.default.timer(),r.ssp="dmx",r.impid=a.default.generateId(8),r.auctionId=a.default.generateId(8),o.default.register(r.auctionId,r),i.getBid(i.qryStringCall(r))}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=i(2),r=n(a),o=function(){this.extManual={},this.settings=function(e){this.extManual[e.ssp]?this.extManual[e.ssp].push(e):(this.extManual[e.ssp]=[],this.extManual[e.ssp].push(e))},this.import=function(e){for(var t=0;t<e.lenght;t++)this.extManual[e[t].ssp]?this.extManual[e[t].ssp]=e[t].info:this.extManual[e[t].ssp]=e[t].info;r.default.logger(this.extManual)}};e.exports=new o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=i(3),r=n(a),o=i(2),d=function(){console.log("listener was call"),this.realCall={},this.run=function(){var e=this;console.log("just call run "),window.dmList={};var t=o.defineSlot;window.dmList.enableSyncRendering=window.googletag.enableSyncRendering,window.dmList.enableSyncRenderingF=window.googletag.pubads().enableSyncRendering,window.dmList.display=window.googletag.display,window.dmList.displayF=window.googletag.pubads().display,window.dmList.refresh=window.googletag.refresh,window.dmList.refreshF=window.googletag.pubads().refresh,window.dmList.enableSingleRequest=window.googletag.pubads().enableSingleRequest,window.dmList.disableInitialLoad=window.googletag.disableInitialLoad,window.dmList.disableInitialLoadF=window.googletag.pubads().disableInitialLoad,window.dmList.defineSlot=window.googletag.defineSlot,window.googletag.enableSyncRendering=function(){},window.googletag.pubads().enableSyncRendering=function(){},window.googletag.display=function(){console.warn("from listener display"),1===arguments.length&&(e.realCall[arguments[0]]||(e.realCall[arguments[0]]=arguments[0])),window.dmList.display.apply(this,arguments)},window.googletag.pubads().display=function(){console.warn("from listener display lib"),window.dmList.displayF.apply(this,arguments)},window.googletag.pubads().refresh=function(){console.warn("in F refresh"),console.log(arguments),window.dmList.refreshF.apply(this,arguments)},window.googletag.refresh=function(){for(var e in r.default.col);console.warn("in refresh"),window.dmList.refresh.apply(this,arguments)},window.googletag.pubads().enableSingleRequest=function(){console.warn("Enable services F"),window.dmList.enableSingleRequest.apply(this,arguments)},window.googletag.disableInitialLoad=function(){console.warn("disable Initial load"),window.dmList.disableInitialLoad.apply(this,arguments)},window.googletag.pubads().disableInitialLoad=function(){console.warn("call disable iniatial load")},window.googletag.defineSlot=function(){return console.warn("define Slot "+arguments[2]),o.defineSlot.apply(this,arguments),window.dmList.defineSlot.apply(this,arguments)},o.defineSlot=function(){console.log("utils defineSlot overright"),t.apply(this,arguments)}}};e.exports=new d},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(2),d=n(o),s=function(){function e(t){a(this,e),this.objPredefined=t}return r(e,[{key:"run",value:function(){for(var e in this.objPredefined)d.default.defineSlot(e,this.objPredefined[e],e)}}]),e}();t.default=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={appendEl:function(e){var t=document.scripts[document.scripts.length-1],i=t.parentElement;i.appendChild(e)},optout:function(){var e=this;e.localStorageEnabled()&&localStorage.setItem("dmio_optout","1")},optedout:function(){try{return"undefined"!=typeof localStorage.dmio_optout&&1==localStorage.dmio_optout}catch(e){return!1}},callEndPoint:function(e){try{var t=this;if(t.localStorageEnabled()&&!t.optedout()){var i=t.getTimestamp();if(t.expired(i)||"undefined"==typeof localStorage.dmio_sync){var t=this,n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,t.appendEl(n)}}}catch(e){}},getTimestamp:function(){return(new Date).getTime()},createIframe:function(e){var t=document.createElement("iframe");return t.width="0px",t.height="0px",t.src=e,t.style.display="none",t.border="0px",t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.border="0",t.scrolling="no",t.frameBorder="0",t},expired:function(e){try{return e-864e5>parseInt(localStorage.dmio_sync)}catch(e){return!1}},localStorageEnabled:function(){try{return localStorage.setItem("dmio_enabled","true"),!!window.localStorage}catch(e){return!1}},localStorage:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=this;try{var i=t.getTimestamp();localStorage.setItem("dmio_dmuid",e),localStorage.setItem("dmio_sync",i);var n=t.createIframe("//cdn.districtm.ca/sync.html?dmuid="+e);return t.appendEl(n),!0}catch(e){return!1}}),callback:function(e){var t=this;t.localStorage(e)}};t.default=i},function(e,t,i){"use strict";i(2),window.dmWidget={},e.exports={create:function(){var e=document.createElement("div"),t=document.createElement("div");return e.id="layer",e.style.position="fixed",e.style.width="100%",e.style.height="50px",e.style.zIndex="10000",e.style.left="0px",e.style.bottom="0px",t.id="dm_close",t.style.width="50px",t.style.height="50px",t.style.position="absolute",t.style.right="0px",t.style.backgroundColor="green",e.appendChild(t),this.append(e)},append:function(e){window.addEventListener("load",function(){document.getElementsByTagName("body")[0].appendChild(e)})},execute:function(){try{localStorage&&localStorage.dmComsole===!0&&this.create()}catch(e){}}}},function(e,t,i){"use strict";var n=(i(2),function(){this.info=function(){try{console.info("DistrictM Header Version ","5.0.0.1")}catch(e){}}});e.exports=new n}]);